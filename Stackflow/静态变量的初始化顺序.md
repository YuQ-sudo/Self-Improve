# 链接

<https://www.jianshu.com/p/dd34cee5242c>

* 静态变量过程：静态变量的初始化分为两个过程，一个是静态初始化，一个是动态初始化。静态初始化在系统加载后执行第一条语句之前就已经完成。所以，可以认为所有的静态初始化过程是同步完成的。
* 动态初始化，则在main函数之前完成，对于同一个编译单元内的静态变量，动态初始化顺序等同于定义顺序，而对于跨编译单元的静态变量，初始化顺序未定义
* 在C++标准'ISOIEC14882-1998 3.6.2 Initialization of nonlocal objects'里明确规定，在同一个编译单元内，静态变量初始化的顺序就是定义的顺序，跨编译单元的静态变量的初始化顺序未定义！！！
  具体的初始化顺序取决于编译器的实现。

## 避免跨编译单元的初始化依赖

* 如果一个静态对象被定义在函数内，直到它所在的函数被第一次调用时才会被初始化。利用这样的特性,我们可以确保一个静态实例被读取时已被 初始化。这就消除了跨编译单元的静态对象的构造顺序不确定问题
